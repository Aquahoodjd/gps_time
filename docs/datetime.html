---

title: Datetime Interface Tools


keywords: fastai
sidebar: home_sidebar

summary: "Contains the GPSTime class that represents time as GPS"
description: "Contains the GPSTime class that represents time as GPS"
nb_path: "nbs/20_datetime.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/20_datetime.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="correct_week" class="doc_header"><code>correct_week</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L19" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>correct_week</code>(<strong><code>week_num</code></strong>:<code>int</code>, <strong><code>tow</code></strong>:<code>float</code>, <strong><code>year</code></strong>:<code>int</code>)</p>
</blockquote>
<p>Correct the week number for week rollovers.</p>
<p>Provide the mod 1024 week number and update to the actual GPS week based
on the year</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>week_num : int
    The mod 1024 week number
tow : float
    The time of week
year : int
    The year</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>int
    The full GPS week number</p>
<h2 id="Raises">Raises<a class="anchor-link" href="#Raises"> </a></h2><p>ValueError
    If the year is not an int
ValueError
    If the week number and year are inconsistent</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="arange_datetime" class="doc_header"><code>arange_datetime</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>arange_datetime</code>(<strong><code>start_datetime</code></strong>:<a href="/gps_time/datetime.html"><code>datetime</code></a>, <strong><code>duration_s</code></strong>:<code>float</code>, <strong><code>step_ms</code></strong>:<code>float</code>)</p>
</blockquote>
<p>Create a list of datetimes in sequence.</p>
<p>The purpose of this function is to create a list that represents a
sequence of datetimes of the specified duration with the specified step
size.</p>
<p>This function is an analogue of the <code>numpy.arange()</code> function, but
operates on datetimes.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>start_gpstime : datetime.datetime
    The datetime to start the sequence
duration_s : float
    The duration of the sequence, in seconds
step_ms : float
    The step size, in milliseconds</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>List[datetime.datetime]
    The sequence of datetime</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>Like <code>numpy.arange</code>, this does not include the final element. That is, if
the start is at 0 with a duration of 5 and step of 1, the sequence would
return [0, 1, 2, 3, 4]</p>
<h2 id="See-Also">See Also<a class="anchor-link" href="#See-Also"> </a></h2><p><code>numpy.arange()</code>
<code>arange_gpstime()</code></p>
<h2 id="Todo">Todo<a class="anchor-link" href="#Todo"> </a></h2><p>.. todo:: Determine if this still works if a np.ndarray is returned
    instead of a list</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tow2datetime" class="doc_header"><code>tow2datetime</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L133" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tow2datetime</code>(<strong><code>week_num</code></strong>:<code>int</code>, <strong><code>tow</code></strong>:<code>float</code>, <strong><code>year</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert GPS Week and Time of Week to datetime.</p>
<p>The purpose of this function is to convert a GPS Week number and a time of
week into a DateTime object. The week number represents the number of weeks
since 6 January 1980 and the time of week is the number of seconds since
midnight Sunday night. Note that the GPS week is sometimes expressed as a
mod 1024 week. If this is the case, the Year argument can be used to
correct for mod 1024 weeks. If the week number is not consistent with the
Year, then an error is raised.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>week_num : int
    GPS Week Number (not limited to 1024)
tow : float
    Time of Week (seconds since midnight Sunday Morning)
year : Optional[int], optional
    If not None, used to correct the week_num from mod 1024 week to
    the actual week number (weeks since 6 Jan 1980), by default None</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>datetime.datetime
    object that represents the current time</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="datetime2tow" class="doc_header"><code>datetime2tow</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L176" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>datetime2tow</code>(<strong><code>date_time</code></strong>:<a href="/gps_time/datetime.html"><code>datetime</code></a>)</p>
</blockquote>
<p>Convert date time to GPS Week and Time of Week.</p>
<p>The purpose of this function is to convert a datetime object to the GPS
week number and the time of week. This returns the full GPS week number.
The user must separately compute the mod 1024 week if that is desired.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>date_time : datetime.datetime
    A datetime object representing the desired times</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>Tuple[int, float]
    Two elements: 1) The GPS Week Number and 2) the time of week</p>
<h2 id="Raises">Raises<a class="anchor-link" href="#Raises"> </a></h2><p>TypeError
    If the input is not a datetime</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="tow2zcount" class="doc_header"><code>tow2zcount</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L216" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>tow2zcount</code>(<strong><code>week_num</code></strong>:<code>int</code>, <strong><code>tow</code></strong>:<code>float</code>, <strong><code>year</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert a week number and time of week into week and zcount.</p>
<p>The Z-Count is the time of week in seconds divided by 1.5. This function is
used to convert from a time of week and week number to z-count.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>week_num : int
    The week number
tow : float
    The time of week (seconds)
year : Optional[int], optional
    If not None, adjusts the week number to account for week roll
    overs. Otherwise, is passed through, by default None</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>Tuple[int, float]
    The week number and z-count</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>This function returns floating point z-count. Use another method to
cast as int if required</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="zcount2tow" class="doc_header"><code>zcount2tow</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L255" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>zcount2tow</code>(<strong><code>week_num</code></strong>:<code>int</code>, <strong><code>zcount</code></strong>:<code>float</code>, <strong><code>year</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert a week number and time of week into week and zcount.</p>
<p>The Z-Count is the time of week divided by 1.5. This function is used to
convert from a z-count and week number to time of week.</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>week_num : int
    The week number
zcount : float
    The z-count (1.5 sec epochs)
year : Optional[int], optional
    If not None, adjusts the week number to account for week roll
    overs. Otherwise, is passed through, by default None</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>Tuple[int, float]
    The week number and time of week</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="datetime2zcount" class="doc_header"><code>datetime2zcount</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L288" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>datetime2zcount</code>(<strong><code>date_time</code></strong>:<a href="/gps_time/datetime.html"><code>datetime</code></a>)</p>
</blockquote>
<p>Convert a datetime to z-count and week number.</p>
<p>This function takes a datetime and returns a week number and z-count. It
accomplishes this by first calling datetime2tow() and then tow2zcount().</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>date_time : datetime.datetime
    The datetime</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>Tuple[int, float]
    The week number and z-count</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="zcount2datetime" class="doc_header"><code>zcount2datetime</code><a href="https://github.com/the-aerospace-corporation/gps_time/tree/master/gps_time/datetime.py#L311" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>zcount2datetime</code>(<strong><code>week_num</code></strong>:<code>int</code>, <strong><code>zcount</code></strong>:<code>float</code>, <strong><code>year</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert a week number and time of week into a datetime.</p>
<p>The Z-Count is the time of week divided by 1.5. This function is used to
convert from a z-count and week number to the equivalent datetime. It
accomplished this by calling zcount2tow() and then tow2datetime().</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>week_num : int
    The week number
zcount : float
    The z-count (1.5 sec epochs)
year : Optional[int], optional
    If not None, adjusts the week number to account for week roll
    overs. Otherwise, is passed through, by default None</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>datetime.datetime
    The datetime representing the zcount</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

