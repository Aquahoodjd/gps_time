---

title: gps_time


keywords: fastai
sidebar: home_sidebar

summary: "Tools for handling time related to GPS"
description: "Tools for handling time related to GPS"
nb_path: "nbs/index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module is used to represent GPS time and provide tools for handling it. The tools developed here were originally made in pure python, but were later converted to jupyter notebooks using <code>nbdev</code>. The goal is to provide an absolute time representation for python that is easer to use for scientific computing and with higher resolution than the built-in <code>datetime</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install"> </a></h2><p>Installation can be achieved using <code>pip</code>, specifically</p>
<div class="highlight"><pre><span></span>pip install gps-time
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module is relatively straightfoward to use. The <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> objects are generated (using arbitrary numbers) by</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gps_time1</span> <span class="o">=</span> <span class="n">GPSTime</span><span class="p">(</span><span class="n">week_number</span><span class="o">=</span><span class="mi">1872</span><span class="p">,</span> <span class="n">time_of_week</span><span class="o">=</span><span class="mf">3324.654324324234324</span><span class="p">)</span>
<span class="n">gps_time2</span> <span class="o">=</span> <span class="n">GPSTime</span><span class="p">(</span><span class="n">week_number</span><span class="o">=</span><span class="mi">1875</span><span class="p">,</span> <span class="n">time_of_week</span><span class="o">=</span><span class="mf">9890874.32</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice that the time of week for <code>gps_time2</code> is longer than a week. The <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> object will automatically adjust the week number and time of week to reasonable values.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gps_time2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>GPSTime(week_number=1891, time_of_week=214074.3200000003)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conversion">Conversion<a class="anchor-link" href="#Conversion"> </a></h3><p>The <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> objects can also created from <code>datetime.datetime</code> objects</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gps_time3</span> <span class="o">=</span> <span class="n">GPSTime</span><span class="o">.</span><span class="n">from_datetime</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">211423</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gps_time3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>GPSTime(week_number=1964, time_of_week=566592.211423)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> can likewise be converted to <code>datetime.datetime</code> object. However, one must be careful because <code>datetime.datetime</code> objects only preserve microsecond resolution. Converting from <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> to <code>datetime.datetime</code> can lose information. The opposite conversion does not lose information.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;GPS Time: </span><span class="si">{</span><span class="n">gps_time1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datetime: </span><span class="si">{</span><span class="n">gps_time1</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Lost Precision: </span><span class="si">{</span><span class="n">gps_time1</span> <span class="o">-</span> <span class="n">GPSTime</span><span class="o">.</span><span class="n">from_datetime</span><span class="p">(</span><span class="n">gps_time1</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>GPS Time: GPSTime(week_number=1872, time_of_week=3324.6543243242345)
Datetime: 2015-11-22 00:55:24.654324

Lost Precision: 3.2423440643469803e-07
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Operators">Operators<a class="anchor-link" href="#Operators"> </a></h3><p><a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> has comparison operators defined (equality, less than, etc.). It also has addition and subtraction defined. In general, one can add/subtract either <code>float</code>s or other <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a>s.</p>
<p>For floats, it is interpreted as a time shift in seconds (forward for addition, backward for subtraction). This operation accounts for the time of week. In-place addition and subtraction, i.e. the <code>+=</code> and <code>-=</code> operators are supported for floats.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">time_shift_seconds</span> <span class="o">=</span> <span class="mf">23431123.3243</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Addition (float):    </span><span class="si">{</span><span class="n">gps_time2</span> <span class="o">+</span> <span class="n">time_shift_seconds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subtraction (float): </span><span class="si">{</span><span class="n">gps_time2</span> <span class="o">-</span> <span class="n">time_shift_seconds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Addition (float):    GPSTime(week_number=1930, time_of_week=57997.64429999888)
Subtraction (float): GPSTime(week_number=1852, time_of_week=370150.9957000017)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternatively, addition and subtraction can be done using two <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> objects. Subtraction finds the time difference in seconds (as a float). Addition essentially sums the week numbers and times of week. Notice that in-place addition and subtraction are not supported for two <a href="/gps_time/core.html#GPSTime"><code>GPSTime</code></a> objects.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Addition (GPSTime):    </span><span class="si">{</span><span class="n">gps_time2</span> <span class="o">+</span> <span class="n">gps_time1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subtraction (GPSTime): </span><span class="si">{</span><span class="n">gps_time2</span> <span class="o">-</span> <span class="n">gps_time1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Addition (GPSTime):    GPSTime(week_number=3763, time_of_week=217398.97432432455)
Subtraction (GPSTime): 11701949.665675675
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="License">License<a class="anchor-link" href="#License"> </a></h2><p>Copyright (2020) The Aerospace Corporation. All Rights Reserved</p>
<p>The <code>gps_time</code> module releasded under the Apache2 license.</p>
<h3 id="Open-Source-Licenses">Open Source Licenses<a class="anchor-link" href="#Open-Source-Licenses"> </a></h3><p>This module is built on the <code>nbdev</code> template, which is used under the Apache2 license.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Formatting">Formatting<a class="anchor-link" href="#Formatting"> </a></h2><p>As much as possible for jupyter notebooks, the <a href="https://black.readthedocs.io/en/stable/">black</a> formatting standard will be used. To apply black to jupyter notebooks, the <a href="https://github.com/drillan/jupyter-black">jupyter-black</a> extension can be used.</p>

</div>
</div>
</div>
</div>
 

